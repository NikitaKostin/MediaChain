angular.module("angular-growl",[]),angular.module("angular-growl").directive("growl",[function(){"use strict";return{restrict:"A",templateUrl:"templates/growl/growl.html",replace:!1,scope:{reference:"@",inline:"@",limitMessages:"="},controller:["$scope","$timeout","growl","growlMessages",function(e,t,s,n){e.referenceId=e.reference||0,n.initDirective(e.referenceId,e.limitMessages),e.growlMessages=n,e.inlineMessage=e.inline||s.inlineMessages(),e.$watch("limitMessages",function(t){var s=n.directives[e.referenceId];angular.isUndefined(t)||angular.isUndefined(s)||(s.limitMessages=t)}),e.stopTimeoutClose=function(e){e.clickToClose||(angular.forEach(e.promises,function(e){t.cancel(e)}),e.close?n.deleteMessage(e):e.close=!0)},e.alertClasses=function(e){return{"alert-success":"success"===e.severity,"alert-error":"error"===e.severity,"alert-danger":"error"===e.severity,"alert-info":"info"===e.severity,"alert-warning":"warning"===e.severity,icon:e.disableIcons===!1,"alert-dismissable":!e.disableCloseButton}},e.showCountDown=function(e){return!e.disableCountDown&&e.ttl>0},e.wrapperClasses=function(){var t={};return t["growl-fixed"]=!e.inlineMessage,t[s.position()]=!0,t},e.computeTitle=function(e){var t={success:"Success",error:"Error",info:"Information",warn:"Warning"};return t[e.severity]}}]}}]),angular.module("angular-growl").run(["$templateCache",function(e){"use strict";void 0===e.get("templates/growl/growl.html")&&e.put("templates/growl/growl.html",'<div class="growl-container" ng-class="wrapperClasses()"><div class="growl-item alert" ng-repeat="message in growlMessages.directives[referenceId].messages" ng-class="alertClasses(message)" ng-click="stopTimeoutClose(message)"><button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="growlMessages.deleteMessage(message)" ng-show="!message.disableCloseButton">&times;</button><button type="button" class="close" aria-hidden="true" ng-show="showCountDown(message)">{{message.countdown}}</button><h4 class="growl-title" ng-show="message.title" ng-bind="message.title"></h4><div class="growl-message" ng-bind-html="message.text"></div></div></div>')}]),angular.module("angular-growl").provider("growl",function(){"use strict";var e={success:null,error:null,warning:null,info:null},t="messages",s="text",n="title",i="severity",r=!0,o="variables",l=0,a=!1,u="top-right",c=!1,g=!1,d=!1,f=!1;this.globalTimeToLive=function(t){if("object"==typeof t)for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);else for(var n in e)e.hasOwnProperty(n)&&(e[n]=t)},this.globalDisableCloseButton=function(e){c=e},this.globalDisableIcons=function(e){g=e},this.globalReversedOrder=function(e){d=e},this.globalDisableCountDown=function(e){f=e},this.messageVariableKey=function(e){o=e},this.globalInlineMessages=function(e){a=e},this.globalPosition=function(e){u=e},this.messagesKey=function(e){t=e},this.messageTextKey=function(e){s=e},this.messageTitleKey=function(e){n=e},this.messageSeverityKey=function(e){i=e},this.onlyUniqueMessages=function(e){r=e},this.serverMessagesInterceptor=["$q","growl",function(e,s){function n(e){e.data[t]&&e.data[t].length>0&&s.addServerMessages(e.data[t])}return{response:function(e){return n(e),e},responseError:function(t){return n(t),e.reject(t)}}}],this.$get=["$rootScope","$interpolate","$sce","$filter","$timeout","growlMessages",function(t,m,v,w,h,p){function b(e){if(B)e.text=B(e.text,e.variables);else{var s=m(e.text);e.text=s(e.variables)}var n=p.addMessage(e);return t.$broadcast("growlMessage",e),h(function(){},0),n}function M(t,s,n){var i,r=s||{};return i={text:t,title:r.title,severity:n,ttl:r.ttl||e[n],variables:r.variables||{},disableCloseButton:void 0===r.disableCloseButton?c:r.disableCloseButton,disableIcons:void 0===r.disableIcons?g:r.disableIcons,disableCountDown:void 0===r.disableCountDown?f:r.disableCountDown,position:r.position||u,referenceId:r.referenceId||l,destroy:function(){p.deleteMessage(i)},setText:function(e){i.text=v.trustAsHtml(String(e))},onclose:r.onclose,onopen:r.onopen},b(i)}function y(e,t){return M(e,t,"warning")}function C(e,t){return M(e,t,"error")}function x(e,t){return M(e,t,"info")}function I(e,t){return M(e,t,"success")}function $(e,t,s){s=(s||"error").toLowerCase(),M(e,t,s)}function D(e){if(e&&e.length){var t,r,l,a;for(a=e.length,t=0;a>t;t++)if(r=e[t],r[s]){l=(r[i]||"error").toLowerCase();var u={};u.variables=r[o]||{},u.title=r[n],M(r[s],u,l)}}}function T(){return r}function O(){return d}function S(){return a}function U(){return u}var B;p.onlyUnique=r,p.reverseOrder=d;try{B=w("translate")}catch(q){}return{warning:y,error:C,info:x,success:I,general:$,addServerMessages:D,onlyUnique:T,reverseOrder:O,inlineMessages:S,position:U}}]}),angular.module("angular-growl").service("growlMessages",["$sce","$timeout",function(e,t){"use strict";this.directives={},this.initDirective=function(e,t){this.directives[e]={messages:[],limitMessages:t}},this.addMessage=function(s){var n,i,r=this.directives[s.referenceId],o=r.messages;if(!this.onlyUnique||(angular.forEach(o,function(t){i=e.getTrustedHtml(t.text),s.text===i&&s.severity===t.severity&&t.title===t.title&&(n=!0)}),!n)){if(s.text=e.trustAsHtml(String(s.text)),s.ttl&&-1!==s.ttl&&(s.countdown=s.ttl/1e3,s.promises=[],s.close=!1,s.countdownFunction=function(){s.countdown>1?(s.countdown--,s.promises.push(t(s.countdownFunction,1e3))):s.countdown--}),angular.isDefined(r.limitMessages)){var l=o.length-(r.limitMessages-1);l>0&&o.splice(r.limitMessages-1,l)}return this.reverseOrder?o.unshift(s):o.push(s),"function"==typeof s.onopen&&s.onopen(),s.ttl&&-1!==s.ttl&&(s.promises.push(t(angular.bind(this,function(){this.deleteMessage(s)}),s.ttl)),s.promises.push(t(s.countdownFunction,1e3))),s}},this.deleteMessage=function(e){var t=this.directives[e.referenceId].messages,s=t.indexOf(e);s>-1&&(t[s].close=!0,t.splice(s,1)),"function"==typeof e.onclose&&e.onclose()}}]);